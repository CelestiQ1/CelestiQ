<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CelestiQ • NASA Bioscience Explorer (Demo)</title>
  <meta name="description" content="Interactive demo that summarizes NASA bioscience publications with AI-ready scaffolding, case studies, and a tiny knowledge graph." />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">
  <!-- Icons -->
  <link rel="preconnect" href="https://unpkg.com" />
  <link rel="dns-prefetch" href="https://unpkg.com" />
  <!-- Charts & Graph -->
  <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script defer src="https://unpkg.com/cytoscape@3.28.1/dist/cytoscape.min.js"></script>

  <style>
    :root{
      --bg: #0b0f1a;
      --panel: #11182a;
      --muted: #9cb3d3;
      --text: #eaf2ff;
      --brand: #6ecbff;
      --brand-2:#7bf1a8;
      --accent: #ffd166;
      --card:#0f1424;
      --ring: 0 0 0 2px rgba(110,203,255,.35), 0 0 42px rgba(110,203,255,.15) inset;
      --radius: 16px;
    }
    *{box-sizing:border-box;}
    html,body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;scroll-behavior:smooth}
    a{color:var(--brand);text-decoration:none}
    .max{max-width:1200px;margin:0 auto;padding:0 20px}
    header{
      position:sticky;top:0;z-index:40;backdrop-filter:saturate(180%) blur(10px);
      background:linear-gradient(180deg, rgba(11,15,26,.8) 0%, rgba(11,15,26,.4) 100%);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
    .logo{display:flex;gap:10px;align-items:center}
    .logo svg{width:36px;height:36px;filter:drop-shadow(0 0 8px rgba(123,241,168,.45))}
    .brand{font-family:"Space Grotesk",system-ui;font-weight:800;letter-spacing:.3px}
    nav a{margin:0 10px;padding:8px 12px;border-radius:12px;color:var(--muted)}
    nav a:hover{background:rgba(255,255,255,.06);color:var(--text)}
    .btn{display:inline-flex;gap:8px;align-items:center;background:linear-gradient(90deg,var(--brand),var(--brand-2));padding:10px 14px;border-radius:999px;color:#04121b;font-weight:700;border:none;cursor:pointer}
    .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,.15);color:var(--text)}
    .hero{position:relative;padding:56px 0 36px;overflow:hidden}
    .hero h1{font-size:clamp(32px,5vw,56px);line-height:1.05;margin:0 0 14px;font-family:"Space Grotesk",system-ui}
    .hero p{font-size:18px;color:var(--muted);max-width:820px}
    .glow{
      position:absolute;inset:auto -10% -35% -10%;height:65vh;pointer-events:none;
      background:radial-gradient(ellipse at 50% 0%,rgba(110,203,255,.25),transparent 55%),
                 radial-gradient(ellipse at 40% 45%,rgba(123,241,168,.18),transparent 66%);
      filter:blur(60px)
    }
    .stat-row{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-top:26px}
    .stat{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:14px;box-shadow:var(--ring)}
    .stat h3{margin:2px 0 4px;font-size:28px}
    .stat p{margin:0;color:var(--muted);font-size:12px;letter-spacing:.3px}
    section{padding:30px 0}
    .panel{background:var(--panel);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);padding:16px}
    .two{display:grid;grid-template-columns:1.1fr .9fr;gap:16px}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .card{background:var(--card);border:1px solid rgba(255,255,255,.07);border-radius:16px;overflow:hidden;display:flex;flex-direction:column;transition:transform .2s ease, box-shadow .2s ease}
    .card:hover{transform:translateY(-2px);box-shadow:0 10px 26px rgba(0,0,0,.35)}
    .thumb{aspect-ratio:16/9;background:#07101c;object-fit:cover;width:100%}
    .content{padding:14px}
    .tag{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;background:rgba(110,203,255,.12);color:var(--brand);font-size:12px;margin-right:6px}
    .muted{color:var(--muted);font-size:14px}
    .chips{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0 0}
    .chips .chip{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08);padding:6px 8px;border-radius:10px;color:var(--muted);font-size:12px}
    .search{display:flex;gap:10px}
    .search input{flex:1;padding:12px 14px;background:#0a1222;border:1px solid rgba(255,255,255,.1);border-radius:12px;color:var(--text)}
    .case-footer{display:flex;align-items:center;justify-content:space-between;margin-top:8px}
    .case-footer a{font-size:13px}
    .mini{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .mini .card{min-height:100%}
    .footer{padding:30px 0;color:var(--muted);border-top:1px solid rgba(255,255,255,.06);margin-top:40px}
    .kgraph{height:460px;border-radius:14px;background:#0d1322;border:1px solid rgba(255,255,255,.06)}
    .chart-wrap{background:#0d1322;border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:14px}
    .hotbar{display:flex;gap:10px;flex-wrap:wrap;margin-top:16px}
    .hotbar a{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);padding:8px 12px;border-radius:999px;color:var(--text)}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}
    @media(max-width:980px){
      .two{grid-template-columns:1fr}
      .grid{grid-template-columns:1fr}
      .stat-row{grid-template-columns:1fr 1fr}
    }
  </style>
</head>
<body>
<header class="max">
  <div class="nav">
    <div class="logo" aria-label="CelestiQ logo">
      <!-- Inline SVG logo -->
      <svg viewBox="0 0 120 120" role="img" aria-label="CelestiQ">
        <defs>
          <linearGradient id="g1" x1="0" x2="1">
            <stop offset="0" stop-color="#7bf1a8"/>
            <stop offset="1" stop-color="#6ecbff"/>
          </linearGradient>
        </defs>
        <circle cx="60" cy="60" r="56" fill="none" stroke="url(#g1)" stroke-width="8"/>
        <path d="M30 70c6 18 27 23 41 12 14-11 13-32-4-42-10-6-24-5-33 2" fill="none" stroke="url(#g1)" stroke-width="8" stroke-linecap="round"/>
        <circle cx="84" cy="38" r="6" fill="#ffd166"/>
      </svg>
      <div class="brand">CelestiQ</div>
    </div>
    <nav aria-label="Primary">
      <a href="#overview">Overview</a>
      <a href="#case-studies">Case Studies</a>
      <a href="#knowledge">Knowledge Graph</a>
      <a href="#insights">Insights</a>
    </nav>
    <a class="btn secondary" href="#references">References</a>
  </div>
</header>

<main>
  <div class="hero">
    <div class="max">
      <h1>NASA Bioscience Explorer — <span style="color:var(--brand)">CelestiQ</span> demo</h1>
      <p>
        A single-page demo that showcases how CelestiQ can summarize and explore NASA bioscience publications.
        It includes real case studies with images and source links, a mini knowledge graph, and charts you can extend
        with your own embeddings/LLM pipeline.
      </p>

      <div class="hotbar" role="navigation" aria-label="Hot links">
        <a href="#case-studies">See case studies</a>
        <a href="#knowledge">Open knowledge graph</a>
        <a href="#insights">View charts</a>
        <a href="#references">Browse sources</a>
      </div>

      <div class="stat-row" id="overview" aria-label="High-level stats">
        <div class="stat"><h3>608</h3><p>Publications in the NASA list (challenge set)</p></div>
        <div class="stat"><h3>5</h3><p>Featured case studies below</p></div>
        <div class="stat"><h3>3</h3><p>Focus areas: Humans · Plants · Countermeasures</p></div>
        <div class="stat"><h3>Live</h3><p>Interactive search + graph + charts</p></div>
      </div>
    </div>
    <div class="glow" aria-hidden="true"></div>
  </div>

  <section class="max two" id="case-studies">
    <div class="panel">
      <h2 style="margin:0 0 12px;font-family:'Space Grotesk';">Case studies</h2>
      <p class="muted">Search or filter to jump to a specific topic (e.g., “immune”, “Arabidopsis”, “bone”).</p>
      <div class="search" role="search">
        <input id="search" type="search" placeholder="Type to filter case studies…" aria-label="Filter case studies">
        <button class="btn" id="clear">Clear</button>
      </div>

      <div class="grid" id="cards" style="margin-top:14px">
        <!-- Cards are injected from the CASES array -->
      </div>
    </div>

    <aside class="mini">
      <div class="chart-wrap">
        <h3 style="margin:0 0 8px;font-family:'Space Grotesk'">Focus by domain</h3>
        <canvas id="bar" width="400" height="320" aria-label="Bar chart of case study domains"></canvas>
      </div>

      <div class="panel">
        <h3 style="margin:0 0 8px;font-family:'Space Grotesk'">Quick filters</h3>
        <div class="chips" id="chips"></div>
        <p class="muted" style="margin-top:8px">Click a tag above to filter; click again to reset.</p>
      </div>
    </aside>
  </section>

  <section class="max two" id="knowledge" aria-label="Knowledge graph">
    <div class="panel">
      <h2 style="margin:0 0 12px;font-family:'Space Grotesk'">Knowledge graph (mini)</h2>
      <p class="muted">Nodes = topics and case studies • Click / drag to explore relationships.</p>
      <div id="kg" class="kgraph" role="application" aria-label="Interactive knowledge graph canvas"></div>
    </div>
    <div class="panel">
      <h3 style="margin:0 0 8px;font-family:'Space Grotesk'">How to extend</h3>
      <ol class="muted">
        <li>Index the 608-paper list into vector embeddings (e.g., text-embedding-3 or similar).</li>
        <li>Chunk by section (Results / Discussion for claims; Methods for constraints).</li>
        <li>Use RAG to map entities → relations (organism, stressor, tissue, outcome, dose/time).</li>
        <li>Auto-generate edges for “evidence for/against”, “replicated by”, “open questions”.</li>
        <li>Pipe summaries to this UI; each node can reveal structured evidence cards.</li>
      </ol>
      <p class="muted">This page is intentionally framework-free (vanilla HTML/CSS/JS) so you can drop it into any stack.</p>
    </div>
  </section>

  <section class="max two" id="insights" aria-label="Insights & charts">
    <div class="panel">
      <h2 style="margin:0 0 12px;font-family:'Space Grotesk'">Insights</h2>
      <ul class="muted">
        <li><b>Immune:</b> Microgravity can dampen T‑cell activation and shift immune aging signatures; several ISS studies and tissue‑chip projects target monitoring and mitigation.</li>
        <li><b>Bone/Muscle:</b> Rodent Research shows countermeasures—from sclerostin antibodies to myostatin/activin blockers—can protect bone and muscle in microgravity.</li>
        <li><b>Plants:</b> Arabidopsis roots maintain auxin transport patterns in microgravity, and seeds/seedlings show radiation‑dose dependent DNA‑repair responses.</li>
        <li><b>Humans:</b> The Twins Study reported mostly reversible changes (gene expression, microbiome), with some persistent signals requiring follow‑up.</li>
      </ul>
    </div>

    <div class="chart-wrap">
      <h3 style="margin:0 0 8px;font-family:'Space Grotesk'">Evidence balance (toy)</h3>
      <canvas id="doughnut" width="400" height="320" aria-label="Donut chart of evidence balance"></canvas>
    </div>
  </section>

  <section class="max panel" id="references" aria-label="References">
    <h2 style="margin:0 0 12px;font-family:'Space Grotesk'">References</h2>
    <ul class="muted" style="line-height:1.5">
      <li>Immune investigations &amp; T‑cell activation in microgravity: NASA ISS articles and investigations (Immunity Assay, Immunosenescence, T‑Cell Activation in Aging). Source links inside Case Study #1.</li>
      <li>Rodent Research bone/muscle countermeasures (Amgen sclerostin antibody; “Mighty Mice” myostatin/activin A). Source links inside Case Study #2.</li>
      <li>Plant growth &amp; auxin patterning: CARA/Arabidopsis imagery and GFP‑reporter microgravity studies. Source links inside Case Study #3.</li>
      <li>Space radiation &amp; plants: OSDR/NSRL simulated GCR and ISS exposure studies. Source links inside Case Study #4.</li>
      <li>NASA Twins Study (multi‑omics, microbiome). Source link inside Case Study #5.</li>
    </ul>
  </section>
</main>

<footer class="footer max">
  <div style="display:flex;align-items:center;gap:12px">
    <div class="logo">
      <svg viewBox="0 0 120 120" role="img" aria-label="CelestiQ">
        <defs><linearGradient id="g2" x1="0" x2="1"><stop offset="0" stop-color="#7bf1a8"/><stop offset="1" stop-color="#6ecbff"/></linearGradient></defs>
        <circle cx="60" cy="60" r="56" fill="none" stroke="url(#g2)" stroke-width="8"/>
        <path d="M30 70c6 18 27 23 41 12 14-11 13-32-4-42-10-6-24-5-33 2" fill="none" stroke="url(#g2)" stroke-width="8" stroke-linecap="round"/>
        <circle cx="84" cy="38" r="6" fill="#ffd166"/>
      </svg>
      <div class="brand">CelestiQ</div>
    </div>
    <div class="muted">© CelestiQ team • Demo page for NASA bioscience challenge</div>
  </div>
</footer>

<script>
// --- Data: 5 real case studies ------------------------------------------------
const CASES = [
  {
    id: "immune",
    title: "Immune system in microgravity: monitoring & T‑cell activation",
    domain: "Humans",
    tags: ["Immune","T‑cells","ISS","Aging"],
    // NASA immunity/immune aging article image:
    img: "https://www.nasa.gov/wp-content/uploads/2023/09/iss056e200803_gerst_chancellor.jpg?w=985",
    summary: "ISS investigations show microgravity can down‑regulate genes in T‑cells and alter immune function; new in‑flight devices enable direct immune monitoring.",
    // NASA page (Immunity Assay; Immunosenescence; T‑Cell Act in Aging)
    links: [
      {label:"NASA – Immune system in space (2023)", href:"https://www.nasa.gov/missions/station/iss-research/science-in-space-week-of-sept-8-2023-the-immune-system-in-space/"},
      {label:"T‑Cell Activation in Aging (2014)", href:"https://www.nasa.gov/general/t-cell-activation-in-aging-spacex-5/"},
      {label:"Tissue‑chips immune research (ISS NatLab)", href:"https://issnationallab.org/upward/upward63-ucsd-immune-system-research/"}
    ]
  },
  {
    id: "bone",
    title: "Countermeasures for bone/muscle loss: rodents in space",
    domain: "Countermeasures",
    tags: ["Bone","Muscle","Rodent Research","Therapeutics"],
    img: "https://issnationallab.org/wp-content/uploads/2024/05/upward-mightymice-jessica.jpg",
    summary: "Rodent Research indicates sclerostin antibodies and myostatin/activin A inhibition can protect or increase bone and muscle mass during spaceflight.",
    links: [
      {label:"NASA – Mice studies on bone loss (2016)", href:"https://www.nasa.gov/technology/tech-transfer-spinoffs/mice-studies-in-space-offer-clues-on-bone-loss/"},
      {label:"ISS NatLab – Mighty Mice feature (2023)", href:"https://issnationallab.org/upward/upward-mighty-mice/"},
      {label:"Rodent Research-5 overview", href:"https://www.nasa.gov/ames/space-biosciences/rodent-research-5-spacex-11/"}
    ]
  },
  {
    id: "plants-auxin",
    title: "Plants keep growth patterns in microgravity (Arabidopsis)",
    domain: "Plants",
    tags: ["Plants","Arabidopsis","Auxin","Root growth"],
    img: "https://www.nasa.gov/wp-content/uploads/2023/03/cara.jpg?w=1041",
    summary: "CARA and related experiments show Arabidopsis roots maintain auxin transport patterns in microgravity; imaging from ISS supports conserved ‘reverse‑fountain’ auxin flow.",
    links: [
      {label:"NASA image article – CARA (2014)", href:"https://www.nasa.gov/image-article/how-does-this-garden-grow/"},
      {label:"ISS NatLab – Plant research in space (2018)", href:"https://issnationallab.org/iss360/plant-research-in-space-is-cropping-up/"},
      {label:"npj Microgravity – GFP reporter study (2016)", href:"https://www.nature.com/articles/npjmgrav201523"}
    ]
  },
  {
    id: "plants-radiation",
    title: "Space radiation & seeds/seedlings: DNA damage & repair",
    domain: "Plants",
    tags: ["Radiation","DNA repair","Seeds","GCR"],
    img: "https://www.nasa.gov/wp-content/uploads/2019/04/ksc-20180312-ph-nas01-0001.jpg?w=2048",
    summary: "Arabidopsis seeds outside the ISS and simulated GCR at NSRL show dose‑dependent responses, including activation of DNA repair pathways and heritable effects.",
    links: [
      {label:"PubMed Central – seeds exposed outside the ISS (2017)", href:"https://pmc.ncbi.nlm.nih.gov/articles/PMC5369387/"},
      {label:"Frontiers – simulated GCR transcriptomics (2023)", href:"https://www.frontiersin.org/journals/plant-science/articles/10.3389/fpls.2023.1284529/full"},
      {label:"OSDR – Arabidopsis DSB repair studies", href:"https://osdr.nasa.gov/bio/repo/data/studies/OSD-46"}
    ]
  },
  {
    id: "twins",
    title: "NASA Twins Study: largely reversible changes; microbiome rebounds",
    domain: "Humans",
    tags: ["Twins Study","Microbiome","Multi‑omics","ISS"],
    img: "https://www.nasa.gov/wp-content/uploads/2018/09/kellymarkscott_0519162100.jpg?w=2048",
    summary: "Integrated findings from 10 teams revealed mostly reversible gene‑expression and microbiome shifts after a one‑year mission; a subset of signals persisted post‑flight.",
    links: [
      {label:"NASA – Twins Study results (2019)", href:"https://www.nasa.gov/humans-in-space/nasas-twins-study-results-published-in-science-journal/"},
      {label:"Northwestern – microbiome shifts article", href:"https://news.feinberg.northwestern.edu/2019/04/11/nasa-twins-study-gut-microbiome-shifts-during-spaceflight/"},
      {label:"NIA – NASA Twins Study explainer", href:"https://www.nia.nih.gov/news/nasa-twins-study-reveals-health-effects-space-flight"}
    ]
  }
];

// --- Render case study cards ---------------------------------------------------
const $cards = document.getElementById('cards');
const $chips = document.getElementById('chips');

function cardTemplate(cs){
  const tags = cs.tags.map(t=>`<span class="chip" data-tag="${t.toLowerCase()}">${t}</span>`).join("");
  const links = cs.links.map(l=>`<a href="${l.href}" target="_blank" rel="noopener">${l.label}</a>`).join(" · ");
  return `<article class="card" data-title="${cs.title.toLowerCase()}" data-tags="${cs.tags.join(',').toLowerCase()}">
    <img class="thumb" alt="" src="${cs.img}"/>
    <div class="content">
      <div>
        <span class="tag">${cs.domain}</span>
        <span class="tag">${cs.tags[0]}</span>
      </div>
      <h3 style="margin:8px 0 6px">${cs.title}</h3>
      <p class="muted">${cs.summary}</p>
      <div class="case-footer">
        <div class="chips">${tags}</div>
        <div><a href="#knowledge">Map</a> · ${links}</div>
      </div>
    </div>
  </article>`;
}

function renderCards(list=CASES){ $cards.innerHTML = list.map(cardTemplate).join(""); }
renderCards();

// --- Search & tag filtering ----------------------------------------------------
const $search = document.getElementById('search');
const $clear  = document.getElementById('clear');

function applyFilter(){
  const q = $search.value.trim().toLowerCase();
  const cards = [...$cards.querySelectorAll('.card')];
  cards.forEach(c => {
    const inTitle = c.dataset.title.includes(q);
    const inTags  = c.dataset.tags.includes(q);
    c.style.display = (q==="" || inTitle || inTags) ? "flex" : "none";
  });
}

$search.addEventListener('input', applyFilter);
$clear.addEventListener('click', ()=>{ $search.value=""; applyFilter(); });

// Build unique tag chips
const allTags = Array.from(new Set(CASES.flatMap(c=>c.tags))).sort();
$chips.innerHTML = allTags.map(t=>`<button class="chip" data-filter="${t.toLowerCase()}">${t}</button>`).join("");
$chips.addEventListener('click', (e)=>{
  const btn = e.target.closest('.chip'); if(!btn) return;
  const t = btn.dataset.filter;
  if(btn.classList.toggle('on')){ $search.value = t; } else { $search.value=""; }
  applyFilter();
});

// --- Charts -------------------------------------------------------------------
function renderCharts(){
  const ctxBar = document.getElementById('bar').getContext('2d');
  const domains = Array.from(new Set(CASES.map(c=>c.domain)));
  const counts  = domains.map(d=>CASES.filter(c=>c.domain===d).length);
  new Chart(ctxBar, { type:'bar', data:{ labels:domains, datasets:[{ label:'Case studies', data:counts }]}, options:{responsive:true, plugins:{legend:{display:false}}} });

  const ctxDonut = document.getElementById('doughnut').getContext('2d');
  new Chart(ctxDonut, { type:'doughnut', data:{ labels:['Evidence for countermeasures','Open questions','Risks'], datasets:[{ data:[2,2,1]}]}, options:{responsive:true, plugins:{legend:{position:'bottom'}}} });
}
window.addEventListener('load', renderCharts);

// --- Knowledge graph (toy) ----------------------------------------------------
function renderKG(){
  const cy = cytoscape({
    container: document.getElementById('kg'),
    layout: { name:'cose', padding: 40 },
    style: [
      { selector: 'node', style: { 'background-color': '#6ecbff', 'label': 'data(label)', 'color':'#00141f', 'font-size':'10px', 'text-outline-width':1, 'text-outline-color':'#c0f1ff' } },
      { selector: 'node.topic', style: { 'background-color': '#7bf1a8' } },
      { selector: 'edge', style: { 'width': 2, 'line-color': '#3aa6dd', 'curve-style':'bezier', 'target-arrow-shape':'triangle', 'target-arrow-color':'#3aa6dd' } },
      { selector: ':selected', style: { 'border-width':3, 'border-color':'#ffd166' } }
    ],
    elements: {
      nodes: [
        { data:{ id:'nImmune', label:'Immune (Humans)' }, classes:'topic' },
        { data:{ id:'nBone', label:'Bone/Muscle (Rodents)' }, classes:'topic' },
        { data:{ id:'nPlants', label:'Plants' }, classes:'topic' },
        { data:{ id:'nRadi', label:'Radiation' }, classes:'topic' },
        { data:{ id:'nTwins', label:'Twins Study (Humans)' }, classes:'topic' },

        { data:{ id:'cs1', label:'Case: Immune monitoring' } },
        { data:{ id:'cs2', label:'Case: Bone countermeasures' } },
        { data:{ id:'cs3', label:'Case: Auxin patterning' } },
        { data:{ id:'cs4', label:'Case: Seed DNA repair' } },
        { data:{ id:'cs5', label:'Case: Twins Study' } }
      ],
      edges:[
        { data:{ source:'nImmune', target:'cs1' } },
        { data:{ source:'nBone', target:'cs2' } },
        { data:{ source:'nPlants', target:'cs3' } },
        { data:{ source:'nPlants', target:'cs4' } },
        { data:{ source:'nRadi', target:'cs4' } },
        { data:{ source:'nTwins', target:'cs5' } },
        { data:{ source:'nImmune', target:'nTwins' } },
        { data:{ source:'nBone', target:'nTwins' } },
        { data:{ source:'nRadi', target:'nTwins' } }
      ]
    }
  });
}
window.addEventListener('load', renderKG);

// --- Small animations ---------------------------------------------------------
const io = new IntersectionObserver((entries)=>{
  entries.forEach(e=>{
    if(e.isIntersecting){ e.target.style.transform='translateY(0)'; e.target.style.opacity=1; }
  });
},{threshold:.12});
document.querySelectorAll('.card,.panel,.chart-wrap,.stat').forEach(el=>{
  el.style.opacity=.001; el.style.transform='translateY(14px)'; el.style.transition='all .5s ease';
  io.observe(el);
});
</script>
</body>
</html>
